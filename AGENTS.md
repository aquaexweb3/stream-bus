# Repository Guidelines

## Project Structure & Module Organization
- `src/` holds the TypeScript source. Key modules include `RedisStreamBus.ts`, `RedisStreamBusConsumer.ts`, `types.ts`, and `index.ts` for public exports.
- `dist/` is the compiled output (generated by `tsc`).
- `readme.MD` documents the Redis Streams schema and usage examples.
- `package.json` and `tsconfig.json` define build and compiler settings.

## Build, Test, and Development Commands
- `npm install` installs dependencies.
- `npm run build` compiles TypeScript to `dist/` using `tsc -p tsconfig.json`.
- `npm run prepare` also runs the TypeScript build (used for publishing/packaging workflows).

## Coding Style & Naming Conventions
- TypeScript is compiled with `strict: true` (see `tsconfig.json`); keep types explicit where behavior is non-obvious.
- Use 2-space indentation and double quotes to match existing files in `src/`.
- Name exported classes in PascalCase (e.g., `RedisStreamBus`) and functions/fields in camelCase.
- File names mirror the main export (`RedisStreamBus.ts`, `RedisStreamBusConsumer.ts`).

## Testing Guidelines
- No test framework is configured in this repo.
- If you add tests, document the runner and add a script (e.g., `npm test`) in `package.json`.

## Commit & Pull Request Guidelines
- Commit messages follow a Conventional Commits pattern seen in history, e.g., `feat(stream-bus): add processPendingAndNew...`.
- Use a clear scope and imperative subject; include context for behavior changes.
- PRs should include a short summary, rationale, and any Redis Stream schema changes.

## Configuration Tips
- Redis connection is configured via `redisUrl` in constructors. Example: `redis://localhost:6379`.
- Stream base key defaults to `md_stream`; override via `streamBase` in config when integrating.
